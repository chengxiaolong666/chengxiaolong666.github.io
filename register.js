var code;function register(){if(!validateParam()){return false}changereReg(1);var d=$("#strMobile").val();var f=$("#strPassword").val();var c=$("#strConfirmPassword").val();var b=$("#strRecommendedCode").val();var e=$("#strVerifyCode").val();var a=getDeviceCode();var g=new CDO();g.setStringValue("strServiceName","UserService");g.setStringValue("strTransName","register");g.setStringValue("strLoginId",d);g.setStringValue("strPassword",hex_md5(f));g.setIntegerValue("nValidateType",1);g.setStringValue("strMobile",d);g.setStringValue("strEquipmentNo",a);g.setStringValue("strInvitedCode",b);g.setStringValue("strMobileCode",e);EngineClass.raiseTrans(g,"callBackForRegister")}function callBackForRegister(b,c,a){if(a==undefined||a==null){changereReg(2);EngineClass.info("请求失败!");return false}if(a.nCode==0){info("注册成功！");setTimeout(function(){ssoRegLogin()},2000)}else{changereReg(2);EngineClass.info(a.strText)}}function validateParam(){javascript:scrollTo(0,0);var c=$("#strMobile").val();var e=$("#strPassword").val();var b=$("#strConfirmPassword").val();var a=$("#strRecommendedCode").val();var d=$("#strVerifyCode").val();if(!checkSubmitMobil(c)){return false}if(!checkStr(e)){info("密码不能为空");return false}if(!checkPwdLvl(e)){return false}if(!checkStr(b)){info("确认密码不能为空");return false}if(!equalsStr(e,b)){info("二次密码输入不正确");return false}if(!checkRecommendedCode(a)){return false}if(!checkStr(d)){info("验证码不能为空");return false}if($("#reg_agreement").val()!=0){info("请同意签订注册协议");return false}if($("#reg_agreement_cfca").val()!=0){info("请同意签订CFCA协议");return false}return true}function changereReg(a){if(a==1){$("#reg_zc1").hide();$("#reg_zc2").show();$("#reg_zc3").hide()}else{if(a==2){$("#reg_zc1").show();$("#reg_zc2").hide();$("#reg_zc3").hide()}else{if(a==3){$("#reg_zc1").hide();$("#reg_zc2").hide();$("#reg_zc3").show()}}}}function chooseAgreeMent(){var a=$("#reg_agreement").val();if(a==0){$("#img_reg").attr("src","img/public/dx_01.png");$("#reg_agreement").val(1)}else{if(a==1){$("#img_reg").attr("src","img/public/dx_02.png");$("#reg_agreement").val(0)}}}function chooseCFCAAgreeMent(){var a=$("#reg_agreement_cfca").val();if(a==0){$("#img_cfca").attr("src","img/public/dx_01.png");$("#reg_agreement_cfca").val(1)}else{if(a==1){$("#img_cfca").attr("src","img/public/dx_02.png");$("#reg_agreement_cfca").val(0)}}}function sendSMSCodeF(b,a){if(validate()){sendSMSCode(b,a)}}function createCode(){code="";var d=4;var b=document.getElementById("checkCode");var a=new Array(0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","p","q","r","s","t","u","v","w","x","y");for(var c=0;c<d;c++){var e=Math.floor(Math.random()*33);code+=a[e]}if(b){b.innerHTML=code}}function validate(){var a=document.getElementById("input1").value;if(a.length<=0){info("图形验证码不能为空");return false}else{if(a.toLowerCase()!=code.toLowerCase()){info("图形验证码输入错误");createCode();return false}else{return true}}};