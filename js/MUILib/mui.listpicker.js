(function(a){a.dom=function(b){if(typeof(b)!=="string"){if((b instanceof Array)||(b[0]&&b.length)){return[].slice.call(b)}else{return[b]}}if(!a.__create_dom_div__){a.__create_dom_div__=document.createElement("div")}a.__create_dom_div__.innerHTML=b;return[].slice.call(a.__create_dom_div__.childNodes)};a.fn.listpicker=function(b){return this.each(function(k,h){if(h.getAttribute("data-listpicker-inited")){return}h.setAttribute("data-listpicker-inited","1");var g=a(".mui-listpicker-inner",h)[0];if(a.os.ios){g.classList.add("mui-listpicker-inner-ios")}var m=h.offsetHeight;var l=a("ul",g)[0];var n=a("li",l)[0];var f=0;if(n){f=n.offsetHeight}else{l.innerHTML="<li>...</li>";n=a("li",l)[0];f=n.offsetHeight;l.innerHTML=""}l.style.paddingTop=l.style.paddingBottom=(m/2-f/2)+"px";var o=a.dom('<div class="mui-listpicker-rule"> </div>')[0];o.style.height=f+"px";o.style.marginTop=-(f/2)+"px";h.appendChild(o);var q=false;var p=function(r){if(q){return}q=true;var s=parseInt((g.scrollTop/f).toFixed(0));h.setSelectedIndex(s);setTimeout(function(){q=false;a.trigger(h,"change",{index:h.getSelectedIndex(),value:h.getSelectedValue(),text:h.getSelectedText(),item:h.getSelectedItem(),element:h.getSelectedElement()});c(r)},200)};var c=function(u){var v=parseInt((g.scrollTop/f).toFixed(0));var r=a("li",l);for(var s in r){var t=r[s];if(!t||!t.classList){continue}if(s==v){t.classList.add("mui-listpicker-highlight")}else{t.classList.remove("mui-listpicker-highlight")}}};var d=false;var e=false;g.addEventListener("scroll",function(r){if(g.scrollTimer){clearTimeout(g.scrollTimer)}c(r);d=true;g.scrollTimer=setTimeout(function(){p(r)},80)},false);a(g).on("tap","li",function(v){var u=this;var r=[].slice.call(a("li",l));for(var s in r){var t=r[s];if(t==u){h.setSelectedIndex(s);return}}});h.getSelectedIndex=function(){return parseInt(g.scrollTop/f)};var i=function(u,s,t,w){var v=t/13;var r=(s-u)/v;j(u,s,0,v,r,w)};var j=function(t,s,u,v,r,x){var w=u*r;g.scrollTop=t+w;if(u<v){u++;setTimeout(function(){j(t,s,u,v,r)},13)}else{g.scrollTop=s;if(x){x()}}};h.setSelectedIndex=function(r){r=parseInt(r||0);i(g.scrollTop,f*r,100)};h.getSelectedElement=function(){var r=h.getSelectedIndex();return a("li",l)[r]};h.getSelectedItem=function(){var r=h.getSelectedElement();if(!r){return null}var s=r.getAttribute("data-item");return s?JSON.parse(s):{text:r.innerText,value:r.getAttribute("data-value")}};h.setItems=function(s){var r=[];for(k in s){var t=s[k]||{text:"null",value:"null"+k};var u=JSON.stringify(t);r.push("<li data-value='"+t.value+"' data-item='"+u+"'>"+t.text+"</li>")}l.innerHTML=r.join("");p()};h.getItems=function(){var s=[];var r=a("li",l);for(k in r){var t=r[k];var u=t.getAttribute("data-item");s.push(u?JSON.parse(u):{text:t.innerText,value:t.getAttribute("data-value")})}return s};h.getSelectedValue=function(){var r=h.getSelectedItem();if(!r){return null}return r.value};h.getSelectedText=function(){var r=h.getSelectedItem();if(!r){return null}return r.text};h.setSelectedValue=function(t){var r=a("li",l);for(k in r){var s=r[k];if(!s||!s.getAttribute){continue}if(s.getAttribute("data-value")==t){h.setSelectedIndex(k);return}}}})};a.ready(function(){a(".mui-listpicker").listpicker()})})(mui);