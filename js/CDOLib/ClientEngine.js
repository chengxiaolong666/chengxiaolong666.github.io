function HashMap(){this.arrKey=new Array();this.arrValue=new Array();this.exists=function(b){b=""+b;b=b.toLowerCase();for(var a=0;a<this.arrKey.length;a++){if(this.arrKey[a].toLowerCase()==b){return true}}return false};this.length=function(){return this.arrKey.length};this.put=function(c,a){c=""+c;for(var b=0;b<this.arrKey.length;b++){if(this.arrKey[b].toLowerCase()==c.toLowerCase()){this.arrValue[b]=a;return}}this.arrKey[this.arrKey.length]=c;this.arrValue[this.arrValue.length]=a};this.get=function(b){b=""+b;b=b.toLowerCase();for(var a=0;a<this.arrKey.length;a++){if(this.arrKey[a].toLowerCase()==b){return this.arrValue[a]}}return null};this.remove=function(c){c=""+c;c=c.toLowerCase();for(var a=0;a<this.arrKey.length;a++){if(this.arrKey[a].toLowerCase()==c){this.arrKey.splice(a,1);var b=this.arrValue[a];this.arrValue.splice(a,1);return b}}return null};this.getKeys=function(){return this.arrKey};this.getValues=function(){return this.arrValue}}var raiseTransMap=new HashMap();var splitCode="#@!";function Return(){this.nCode=0;this.getCode=function(){return this.nCode};this.setCode=function(a){this.nCode=a};this.strText="";this.getText=function(){return this.strText};this.setText=function(a){this.strText=a};this.strInfo="";this.getInfo=function(){return this.strInfo};this.setInfo=function(a){this.strInfo=a}}var isDebug=false;var openWindow=function(c,a,d,h,g,b){if(isDebug){d=encodeURIComponent(d);window.location.href="D:/达飞/HTML/ClientEngineHml/"+c+"?"+d}else{try{clientEngine.openWindow(c,a,d,h,g,b)}catch(f){info("系统错误：001000");if(typeof(_shade_layer)=="object"){_shade_layer.hide()}}}};var openDelayWindow=function(c,a,d,f,e,b){setTimeout(function(){clientEngine.openWindow(c,a,d,f,e,b)},300)};var raiseTrans=function(cdoRequest,strCallbackFunctionName){if(cdoRequest!=null&&cdoRequest!=undefined){cdoRequest.setStringValue("strOlcDeviceLocalCode",getDeviceCode())}if(isDebug){var httpClient=new HttpClient("http://mobile.dafy.com/handleTrans.cdo");httpClient.raiseTrans(cdoRequest,new CDO(),eval(strCallbackFunctionName),null)}else{try{var strTName=cdoRequest.getStringValue("strTransName");if(!raiseTransMap.exists(strTName)){raiseTransMap.put(cdoRequest.getStringValue("strTransName"),1)}else{if(raiseTransMap.get(strTName)>0){info("请勿重复发起相同请求！");return}}strRequest=cdoRequest.toXML();clientEngine.raiseTrans(strRequest,"callbackFunction",strCallbackFunctionName,null)}catch(e){info("网络不给力,请稍候重试.");if(typeof(_shade_layer)=="object"){_shade_layer.hide()}}}};var serial_brk_queue=[];function callbackFunction(strRequest,strResponse,strCallbackData){try{if(isStringNull(strResponse)){info("系统错误：001022");eval(strCallbackData+"(null,null,null)");return}var member={};member.strRequest=strRequest;member.strResponse=strResponse;member.strCallbackData=strCallbackData;serial_brk_queue.push(member);setTimeout("procInThreadCallback()",100)}catch(e){clientEngine.info("系统错误：001002");if(typeof(_shade_layer)=="object"){_shade_layer.hide()}}}function isStringNull(b){var a=false;if(typeof b=="undefined"){a=true}if(""==b){a=true}if(null==b){a=true}return a}function procInThreadCallback(){var strTransName;try{var member=serial_brk_queue.pop();if(member==null||typeof member=="undefined"){info("系统错误：001027");eval(member.strCallbackData+"(null,null,null)");return}var cdoRequest=new CDO();cdoRequest.fromXMLText(member.strRequest);strTransName=cdoRequest.getStringValue("strTransName");var cdoResponse=new CDO();if(isStringNull(member.strResponse)){info("系统错误：001022");eval(member.strCallbackData+"(null,null,null)");return}cdoResponse.fromXMLText(member.strResponse);if(!cdoResponse.exists("cdoReturn")){info("系统错误：001023");eval(member.strCallbackData+"(null,null,null)");return}var cdoReturn=cdoResponse.getCDOValue("cdoReturn");if(!cdoResponse.exists("cdoResponse")){if(!cdoReturn.exists("strText")){info("系统错误：001026");eval(member.strCallbackData+"(null,null,null)");return}if(!cdoReturn.exists("nCode")){info("系统错误：001025");eval(member.strCallbackData+"(null,null,null)");return}var strText=cdoReturn.getStringValue("strText");var nCode=cdoReturn.getIntegerValue("nCode");if(strText!=null&&strText.indexOf("is not allowed")>0&&nCode==-1){info("您的账号已在其他设备上登录,如果不是本人操作,请及时更换密码!");setTimeout(function(){try{var Gpwd=["",1];setArrayValue("gesturePasswordArray"+Number(getStringValue("lUserId")),Gpwd)}catch(e){info("系统错误：001005");eval(member.strCallbackData+"(null,null,null)")}openWindow("login.htm","登录页面","",2,"")},2000)}else{if(nCode==-20||nCode==-800||nCode==-900){info(strText);openWindow("login.htm","登录页面","",2,"");return}else{info("系统错误：001024");eval(member.strCallbackData+"(null,null,null)");return}}}cdoResponse=cdoResponse.getCDOValue("cdoResponse");if(!cdoReturn.exists("nCode")){info("系统错误：001025");eval(member.strCallbackData+"(null,null,null)");return}var nCode=cdoReturn.getIntegerValue("nCode");if(!cdoReturn.exists("strText")){info("系统错误：001026");eval(member.strCallbackData+"(null,null,null)");return}var strText=cdoReturn.getStringValue("strText");if(nCode==-20||nCode==-800||nCode==-900){info(strText);openWindow("login.htm","登录页面","",2,"");return}var ret=new Return();ret.setCode(nCode);ret.setText(strText);if(strText!=null&&strText.indexOf("is not allowed")>0&&nCode==-1){info("您的账号已在其他设备上登录,如果不是本人操作,请及时更换密码!");setTimeout(function(){try{var Gpwd=["",1];setArrayValue("gesturePasswordArray"+Number(getStringValue("lUserId")),Gpwd)}catch(e){info("系统错误：001005");eval(member.strCallbackData+"(null,null,null)")}openWindow("login.htm","登录页面","",2,"")},2000)}else{eval(member.strCallbackData+"(cdoRequest,cdoResponse,ret)")}}catch(e){if(typeof(_shade_layer)=="object"){_shade_layer.hide()}if(e.name=="ReferenceError"){return}info("系统错误：001003")}finally{if(raiseTransMap.get(strTransName)==1){raiseTransMap.put(strTransName,0)}}}var openRichScan=function(a){try{clientEngine.richScan(a)}catch(b){info("系统错误：002003")}};var callbackRichScan=function(val,strCallbackFunctionName){eval(strCallbackFunctionName+"('"+val+"')")};var capturecookie=function(a){info("版本升级，您的cookie已失效（错误编号："+a+"），请您重新登录！");setTimeout(function(){openWindow("login.htm","登录页面","",2,"")},2000)};var info=function(a){clientEngine.info(a)};var yesno=function(b){try{return clientEngine.yesno(b)}catch(a){info("系统错误：002001")}};var okcancel=function(b){try{return clientEngine.okcancel(b)}catch(a){info("系统错误：002005")}};var reductionStyle=function(a){$("#container").css("-webkit-transform","translate3d(0px, 0px, 0px)")};var shareInfo=function(a,d,b,f){try{return clientEngine.shareInfo(a,d,b,f)}catch(c){info("系统错误：002004")}};var back=function(){try{clientEngine.back()}catch(a){info("系统错误：002006")}};var delayBack=function(){try{setTimeout(function(){clientEngine.back()},300)}catch(a){info("系统错误：002006")}};var setBackURL=function(b,a,c,g,f){try{clientEngine.setBackURL(b,a,c,g,f)}catch(d){info("系统错误：002007")}};var reloadPage=function(){window.location.reload()};var getCookie=function(a){try{return clientEngine.getCookie(a)}catch(b){info("系统错误：002008")}};var setCookie=function(a,c,d){try{clientEngine.setCookie(a,c,d)}catch(b){info("系统错误：002009")}};var getQueryString=function(a){try{var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)");var c=window.location.search.substr(1).match(b);if(c!=null){return unescape(c[2])}return null}catch(d){info("系统错误：001004")}};var showExitDialog=function(){try{clientEngine.showExitDialog()}catch(a){info("系统错误：002010")}};var destroy=function(){try{clientEngine.destroy()}catch(a){info("系统错误：002011")}};var call=function(a){try{clientEngine.call(a)}catch(b){info("系统错误：002012")}};var backupData=function(c,b,d,a){try{d=String(d);if(a==1){clientEngine.startBackupAll(b,d)}else{if(a==2){clientEngine.backupCallData(b,d)}else{if(a==3){clientEngine.backupSms(b,d)}else{if(a==4){clientEngine.backupContactData(b,d)}}}}}catch(f){info("系统错误：002013")}};var getLoaction=function(){try{return clientEngine.getLoaction()}catch(a){info("系统错误：002014")}};var getDeviceMessage=function(){try{return clientEngine.getDeviceMessage()}catch(a){info("系统错误：002015")}};var editMsg=function(a,b){try{clientEngine.editMsg(a,b)}catch(c){info("系统错误：002016")}};var setStringValue=function(a,b){try{return clientEngine.setStringValue(a,b+"")}catch(c){info("系统错误：001015");return false}};var setArrayValue=function(b,c){try{var f="";if(c!=null){for(var a=0;a<c.length;a++){if(a!=0){f+=splitCode+c[a]}else{f+=c[a]}}}return clientEngine.setStringValue(b,f)}catch(d){info("系统错误：001016");return false}};var getStringValue=function(a){try{var b=clientEngine.getStringValue(a);if(b==null||b==undefined||b==""){return null}return b}catch(c){info("系统错误：001017");return null}};var getArrayValue=function(a){try{var b=clientEngine.getStringValue(a);if(b==null||b==undefined||b==""){return null}return b.split(splitCode)}catch(c){info("系统错误：001018");return null}};var clearArray=function(b){try{return clientEngine.clearArray(b)}catch(a){info("系统错误：001019")}};var clearAll=function(){try{return clientEngine.clearAll()}catch(a){info("系统错误：001019")}};var openContacts=function(a){try{clientEngine.openContacts(a)}catch(b){info("打开通讯录失败!")}};var openContacts=function(b,a){try{clientEngine.openContacts(b,a)}catch(c){info("添加紧急联系人时打开通讯录失败!")}};var callbackFunctionContacts=function(c,b,a){if(c!=null&&c!="null"){$("#strPhoneNumber").val(c);checkPayBut()}else{if(checkSubmitMobilFW(c)){error("通讯录读取权限未开放")}else{error("手机号格式不正确")}}};var checkOperator=function(a){try{clientEngine.checkOperator(a+"")}catch(b){info("系统错误：002018")}};var callbackFunctionCheckOperator=function(b,a){getMobieRechargeProductInfo(b,a)};var verifyGesturePassword=function(b){try{clientEngine.verifyGesturePassword(b)}catch(a){info("系统错误：002019")}};var callBackVerifyGesturePassword=function(a){setTimeout("procVerifyGesInThread("+a+")",150)};function procVerifyGesInThread(b){if(b=="1"){checkVersionByGesture();return}else{if(b=="2"){var c=getStringValue("lUserId");c=new Number(c);setArrayValue("gesturePasswordArray"+c,null);openWindow("login.htm","登录页面","skip=open",2,"");return}else{if(b=="3"){var c=getStringValue("lUserId");c=new Number(c);setArrayValue("gesturePasswordArray"+c,null);openWindow("login.htm","登录页面","skip=open",2,"");return}else{if(b=="4"){openWindow("login.htm","登录页面","skip=close",2,"");return}else{if(b=="5"){var c=getStringValue("lUserId");c=new Number(c);nIsOpenGesturePassword=2;var a=["",nIsOpenGesturePassword];a=getArrayValue("gesturePasswordArray"+c);a[1]=nIsOpenGesturePassword;setArrayValue("gesturePasswordArray"+c,a)}}}}}}var verifyGesturePasswordClose=function(b,c){try{clientEngine.verifyGesturePasswordClose(b,c)}catch(a){info("系统错误：002020")}};var callBackVerifyGesturePasswordClose=function(){var b=getStringValue("lUserId");b=new Number(b);nIsOpenGesturePassword=2;var a=["",nIsOpenGesturePassword];a=getArrayValue("gesturePasswordArray"+b);a[1]=nIsOpenGesturePassword;setArrayValue("gesturePasswordArray"+b,a);ss_pwd.className="z_ssCcpws";ss_pwd.childNodes[1].className="z_leftrid"};var setStringGesturePassword=function(){try{clientEngine.setStringGesturePassword()}catch(a){info("系统错误：002021")}};var callBackSetGesturePassword=function(b){var c=getStringValue("lUserId");c=new Number(c);var a=new Array();a[0]=b;a[1]=1;setArrayValue("gesturePasswordArray"+c,a);openWindow("index.htm","首页","",2,"")};var getChannelType=function(){try{return clientEngine.getChannelType()}catch(a){info("系统错误：002022");return null}};var openPayWindow=function(a,f,d,h,c,b){try{return clientEngine.openPayWindow(a,f,d,h,c,b)}catch(g){info("系统错误：002023");return null}};var openNewPayWindow=function(d,b,a){try{return clientEngine.openNewPayWindow(d,b,a)}catch(c){info("系统错误：002024");return null}};var callbackFunctionOpenPayWindow=function(val,strCallbackData,okOrCanel){setTimeout(function(){eval(strCallbackData+"('"+val+"','"+okOrCanel+"')")},200)};var editGesturePassword=function(b,c){try{clientEngine.editGesturePassword(b,c)}catch(a){info("系统错误：002025")}};var callBackEditGesturePassword=function(c,b){var d=getStringValue("lUserId");d=new Number(d);if(b=="1"){var a=new Array();a[0]=c;a[1]=1;setArrayValue("gesturePasswordArray"+d,a);ss_pwd.className="z_pws_tap";ss_pwd.childNodes[1].className="z_rightrid";nIsOpenGesturePassword=1;info("修改手势密码成功！")}else{if(b=="2"){setArrayValue("gesturePasswordArray"+d,"");info("修改手势密码失败，请用登录密码登录！");openWindow("login.htm","登录页","skip=open",2,"")}}};var selectAvatarSource=function(b,a){try{clientEngine.selectAvatarSource(b,a)}catch(c){info("系统错误：002026")}};var cooperationMerchant=function(){try{clientEngine.cooperationMerchant()}catch(a){info("系统错误：002027")}};function getMobileBasicInfo(){try{clientEngine.getMobileBasicInfo()}catch(a){_shade_layer.hide();info("系统错误：002028");return}}function callBackAddUserMoney(b,c,a){_shade_layer.hide();openWindow("index.htm","首页","",2,"")}function seeToAgreementAfterSignature(b){var a="http://main.boss.dafy.com/protocolmanager/view/main.htm?strProtocolId=";parm="xieyi="+a+b+"&modelType=0";openWindow("model/open_xieyi.htm","产品详情",parm,0,"")}var raiseTranshHttp=function(d,b,a){try{strRequest=d.toXML();clientEngine.raiseTrans(strRequest,"callbackFunction",b,a)}catch(c){info("网络不给力,请稍候重试.");if(typeof(_shade_layer)=="object"){_shade_layer.hide()}if(typeof(_loading)=="object"){_loading.hide()}}};function getVersionName(){try{return clientEngine.getVersionName()}catch(a){info("系统错误：002029");return""}}var setTags=function(a){try{clientEngine.setTags(a)}catch(b){info("系统错误：002030")}};var setAlias=function(a){try{clientEngine.setAlias(a)}catch(b){info("系统错误：002031")}};var openMsgWindow=function(a,c){try{clientEngine.openMsgWindow(a,c)}catch(b){info("系统错误：002032")}};var openRetrievePwdWindow=function(b,a){try{clientEngine.openRetrievePwdWindow(b,a)}catch(c){info("系统错误：002033")}};var openLoginWindow=function(a){try{clientEngine.openLoginWindow(a.strLoginId,a.strPassword)}catch(b){_shade_layer.hide();info("系统错误：002034")}};function openIndexWindow(){try{clientEngine.openIndexWindow()}catch(a){info("系统错误：002035")}}function getDeviceCode(){try{return clientEngine.getDeviceCode()}catch(a){info("系统错误：002036");return null}}function setNotices(b,a){try{clientEngine.setNotices(b,a)}catch(c){info("系统错误：002037")}}function getAvatarPath(b){try{return clientEngine.getAvatarPath(b)}catch(a){info("系统错误：002038");return null}}function onlineService(a){try{return clientEngine.onlineService(a)}catch(b){info("系统错误：002039");return null}}function setControlAndroidBack(a){try{return clientEngine.setControlAndroidBack(a)}catch(b){info("系统错误：002040");return null}}function getStrEncryptDES(b){try{return clientEngine.getStringEncryptDES(b)}catch(a){info("系统错误：002041");return null}}function getStrDecryptDES(b){try{return clientEngine.getStrDecryptDES(b)}catch(a){info("系统错误：002042");return null}}var openScanningBankcardPhoto=function(b,a){try{return clientEngine.openScanningBankcardPhoto(b,a)}catch(c){info("系统错误：打开失败!"+c);return null}};var checkBankcard=function(a,b){try{return clientEngine.checkBankcard(a,b)}catch(c){info("验卡错误!"+c);return null}};var clientTollPay=function(strCallbackFunctionName,params){try{clientEngine.clientTollPay(strCallbackFunctionName,params)}catch(e){var llCode="99991";var retCode="1";var retText="系统版本错误,请联系客服400-625-9898";raiseTransMap=new HashMap();eval(strCallbackFunctionName+"('"+llCode+"','"+retCode+"','"+retText+"')")}};var callBackClientTollPay=function(llCode,retCode,retText,strCallbackFunctionName){eval(strCallbackFunctionName+"('"+llCode+"','"+retCode+"','"+retText+"')")};var EngineClass=this;