(function($,doc){$.init();$.ready(function(){var mask=mui.createMask(_hidePickerPanel);var currentPanel=null;var showUserPanel=function(){mask.show();document.documentElement.style.overflow="hidden";currentPanel=userPickerPanel;userPickerPanel.style.webkitTransform="translateY(0px)"};function _hidePickerPanel(){if(currentPanel){document.getElementById("amui-content").style.display="none";currentPanel.style.webkitTransform="translateY(280px)";document.documentElement.style.overflow="auto";currentPanel=null}}function hidePickerPanel(){_hidePickerPanel();mask.close();document.documentElement.style.overflow="auto"}var showCityPickerBtn=doc.querySelector("#showCityPicker");var cityPickerPanel=doc.querySelector(".city-panel");var cityCancelBtn=doc.querySelector("#cityPickerCancel");var cityOKBtn=doc.querySelector("#cityPickerOK");var provincePicker=doc.querySelector("#provincePicker");var cityPicker=doc.querySelector("#cityPicker");var areaPicker=doc.querySelector("#areaPicker");var cityPickerResult=doc.querySelector("#cityPickerResult");var showCityPanel=function(){jQuery("input").blur();setTimeout(function(){document.getElementById("amui-content").style.display="block";mask.show();currentPanel=cityPickerPanel;cityPickerPanel.style.webkitTransform="translateY(0px)"},300)};showCityPickerBtn.addEventListener("tap",showCityPanel,false);cityCancelBtn.addEventListener("tap",hidePickerPanel,false);cityOKBtn.addEventListener("tap",function(){strProvince=provincePicker.getSelectedText();strCity=cityPicker.getSelectedText();strcounty=areaPicker.getSelectedText();strProvinceCode=provincePicker.getSelectedValue();strCityCode=cityPicker.getSelectedValue();strcountyCode=areaPicker.getSelectedValue();strFullDistrictName=strProvince+" "+strCity+" "+strcounty;jQuery("#strFullDistrictName").html(strFullDistrictName);jQuery("#strAdress_province").val(strProvinceCode);jQuery("#strAdress_city").val(strCityCode);jQuery("#strAdress_area").val(strcountyCode);hidePickerPanel()},false);var provinces=eval("("+areas+")");provincePicker.setItems(provinces);provincePicker.addEventListener("change",function(event){var eventData=event.detail;cityPicker.setItems(eventData.item.citys)},false);cityPicker.addEventListener("change",function(event){var eventData=event.detail;areaPicker.setItems(eventData.item.areas)},false);setTimeout(function(){provincePicker.setSelectedIndex(1);document.getElementById("amui-content").style.display="none"},200)})})(mui,document);