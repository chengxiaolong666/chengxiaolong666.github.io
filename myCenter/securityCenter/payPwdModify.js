var msgFlag=true;jsHeight.bodyheight();$(document).ready(function(){var a=getStringValue("strMobile");$("#strMobile").val(Number(a));ios_ction()});$("#edit_btn1").click(function(){var a=$("#strVerifyCode").val();if(!msgFlag){return}if(null==a||a==""||a.length<4){info("您输入的验证码不正确！");return false}msgFlag=false;var c=getStringValue("lUserId");var b=new CDO();b.setStringValue("strServiceName","UserService");b.setStringValue("strTransName","verifySendUserCode");b.setLongValue("lUserId",Number(c));b.setStringValue("strMobileCode",a);raiseTrans(b,"callBackForVerifySendUserCode")});function callBackForVerifySendUserCode(c,d,a){if(a==undefined||a==null){info("请求失败!");msgFlag=true;return false}if(a.nCode==0){var b=$("#strVerifyCode").val();$("#page1").hide();$("#page2").show()}else{info(a.strText)}msgFlag=true}var flag=true;function editPayPwd(){if(!flag){return}var b=$("#strOldPw").val();var e=$("#strNewPw1").val();var d=$("#strNewPw2").val();if(null==b||b==""||b.length!=6){info("原支付密码长度为6");return}if(null==e||e==""||e.length!=6){info("新支付密码长度为6");return}var a=new RegExp("^[0-9]{6}$");if(!a.test(b)){info("原支付密码必须为数字");return}if(!a.test(e)){info("新支付密码必须为数字");return}if(null==d||d==""||d.length!=6||d!=e){info("二次密码输入不正确");return false}flag=false;var c=new CDO();var f=getStringValue("lUserId");c.setStringValue("strServiceName","CustomerService");c.setStringValue("strTransName","modifyPayPassword");c.setStringValue("strOldPayPassword",hex_md5(b));c.setStringValue("strNewPayPassword",hex_md5(e));c.setLongValue("lUserId",Number(f));raiseTrans(c,"callBackForUpdatePayPassword")}function callBackForUpdatePayPassword(b,c,a){if(a==undefined||a==null){info("请求失败!");flag=true;return false}if(a.nCode==0){info("修改支付密码成功");setTimeout(function(){openWindow("myCenter/securityCenter/accountCenter.htm","安全中心","",1,"")},2000)}else{if(a.nCode==1){info("原支付密码输入错误");count++;if(count==3){openWindow("myCenter/securityCenter/payPwdRetrieve.htm","找回支付密码","",1,"")}}else{info(a.getText())}}flag=true};